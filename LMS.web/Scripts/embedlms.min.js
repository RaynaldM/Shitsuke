function lmsloadHtml(n,t,i){return i===void 0&&(i=null),$.ajax({type:"GET",url:window.lms+n,crossDomain:!0}).then(function(n){n=n.replace("{root}",window.lms);i&&(n=i(n));$(t).append(n)})}function getBrowserInfo(){var c="-",l="",a,v,b,h,e,s;screen.width&&(a=screen.width?screen.width:"",v=screen.height?screen.height:"",l+=""+a+" x "+v);var y=navigator.appVersion,n=navigator.userAgent,r=navigator.appName,t=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10),p,i,u;(i=n.indexOf("Opera"))!=-1&&(r="Opera",t=n.substring(i+6),(i=n.indexOf("Version"))!=-1&&(t=n.substring(i+8)));(i=n.indexOf("OPR"))!=-1?(r="Opera",t=n.substring(i+4)):(i=n.indexOf("MSIE"))!=-1?(r="Microsoft Internet Explorer",t=n.substring(i+5)):(i=n.indexOf("Chrome"))!=-1?(r="Chrome",t=n.substring(i+7)):(i=n.indexOf("Safari"))!=-1?(r="Safari",t=n.substring(i+7),(i=n.indexOf("Version"))!=-1&&(t=n.substring(i+8))):(i=n.indexOf("Firefox"))!=-1?(r="Firefox",t=n.substring(i+8)):n.indexOf("Trident/")!=-1?(r="Microsoft Internet Explorer",t=n.substring(n.indexOf("rv:")+3)):(p=n.lastIndexOf(" ")+1)<(i=n.lastIndexOf("/"))&&(r=n.substring(p,i),t=n.substring(i+1),r.toLowerCase()==r.toUpperCase()&&(r=navigator.appName));(u=t.indexOf(";"))!=-1&&(t=t.substring(0,u));(u=t.indexOf(" "))!=-1&&(t=t.substring(0,u));(u=t.indexOf(")"))!=-1&&(t=t.substring(0,u));o=parseInt(""+t,10);isNaN(o)&&(t=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10));var k=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(y),f=c,w=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(b in w)if(h=w[b],h.r.test(n)){f=h.s;break}e=c;/Windows/.test(f)&&(e=/Windows (.*)/.exec(f)[1],f="Windows");switch(f){case"Mac OS X":e=/Mac OS X (10[\.\_\d]+)/.exec(n)[1];break;case"Android":e=/Android ([\.\_\d]+)/.exec(n)[1];break;case"iOS":s=/OS (\d+)_(\d+)_?(\d+)?/.exec(y);e=s[1]+"."+s[2]+"."+(parseInt(s[3])|0)}return{screen:l,browser:r,browserVersion:t,browserMajorVersion:o,mobile:k,os:f,osVersion:e}}var EmbedLms=function(){function n(){}return n.Ping=function(n,t,i,r,u,f){var e=this;r===void 0&&(r=location.pathname);u===void 0&&(u=!0);f===void 0&&(f=navigator.language||navigator.systemLanguage||navigator.userLanguage||"en");window.jQuery?this.go(n,t,i,r,u,f):this.injectJS("https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js",!1,function(){e.go(n,t,i,r,u,f)})},n.go=function(n,t,i,r,u,f){if((i===void 0||i===null||i==="")&&(i="anonymous"),$.ajax({type:"POST",url:window.lms+"/api/monitor/ping",data:JSON.stringify({aid:n,uid:i,pid:r,info:JSON.stringify(getBrowserInfo())}),contentType:"application/json; charset=utf-8",dataType:"json",headers:{Authorization:"lmstoken "+t},crossDomain:!0}),u){var e=!1;lmsloadHtml("/html/feedbackroot.min.html","body").then(function(){$("#lmsFeedBack-btn").on("click",function(){e?feedback.Ready(t,n,i,r,f):$.getScript(window.lms+"/scripts/feedback.min.js",function(){feedback.Ready(t,n,i,r,f);e=!0})})})}},n.injectJS=function(n,t,i){var u;t===void 0&&(t=!0);var f=document,e="script",r=f.createElement(e);r.type="text/javascript";r.src=(t?window.lms:"")+n;r.async=!0;r.addEventListener("load",i,!1);u=f.getElementsByTagName(e)[0];u.parentNode.insertBefore(r,u);i&&i()},n}();
//# sourceMappingURL=embedlms.min.js.map
